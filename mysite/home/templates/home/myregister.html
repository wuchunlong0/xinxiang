{% extends 'home_1/__base__.html' %}
{% block content %}

<!DOCTYPE html>

<html>
<head>


    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    

    <style type="text/css">object {outline:none;}
    </style>

    <title>注册信息</title>

    <script type = "text/javascript">
 window.__GJ_PACK_CONFIG__ = {
    "documentDomain": "wcl.com",
    "debug": false,
    "useCombine": true,
    "addVersion": true,
    "cookieDomain": "wcl.com",
    "defaultServer": "sta.ganjistatic1.com",
    "defaultVersion": 1457173320,
    "servers": ["sta.ganjistatic1.com", "stacdn201.ganjistatic1.com", "sta2.ganjistatic2.com", "stacdn.ganjistatic2.com", "sta.ganji.com"],
    "fileVersions": {
        "3": 1456826031
    },
    "fileCombines": {
        "7": [8, 9, 10],
        "14": [18, 19, 20, 21, 22, 23, 24, 25, 26, 28, 29],
        "32": [18, 33, 34, 35, 36, 37, 38, 39, 41, 42, 43],
        "45": [47, 49, 51, 53, 55, 57],
        "58": [62, 64, 65, 66, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 86, 87, 88, 89, 90],
        "91": [93, 94, 95, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106],
        "109": [110, 111],
        "115": [117, 119, 121, 122, 123],
        "124": [117, 119, 121, 122, 125],
        "126": [117, 119, 121, 122, 127]
    },
    "fileCodes": {
        "ganji": 128,
        "app_global": 130,
        "autocomplete": 132,
        "jquery": 134,
        "jquery_ui": 135,
        "util": 7,
        "json": 137,
        "log_tracker": [139, 141, 142, 144, 146],
        "select": 148,
        "upload": 150,
        "tool\/webim_v1\/js\/webim.js": 14,
        "tool\/webim\/js\/webim.js": 32,
        "iframe": [144, 151],
        "panel": [153, 9, 155, 156],
        "flash": [158, 159],
        "talk_to_parent": [160, 144],
        "validator": [162, 163],
        "validator2": [162, 164, 165],
        "map": [9, 168],
        "uploader": [9, 171],
        "editor": [173, 174],
        "passport": [175],
        "uniontgm": [177, 178],
        "uniontgm_v6": [179, 178],
        "uniontgm_v5_b": [180, 178],
        "uniontgm_v6_b": [181, 178],
        "app\/ms\/common\/adm\/adm.cmb.js": 58
    },
    "words": ["app\/", "0|ms_v2\/", "1|wanted\/", "2|category.js", "js\/", "4|util\/", "5|ganji\/", "6|util.cmb.js", "jquery", "iframe", "panel", "tool\/", "11|webim\/", "12|js\/", "13|webim.cmb.js", "4|app\/", "15|common\/", "16|user\/", "17|user.js", "13|md5-min.js", "13|webim.util.js", "13|webim.core.js", "13|webim.html.js", "13|webim.interfaces.js", "13|webim.start.js", "13|webim.config.js", "13|webim.widget.js", "13|module\/", "27|webim.module.base.js", "27|moduleMgr.js", "11|webim_v2\/", "30|js\/", "31|webim.cmb.js", "31|md5-min.js", "31|webim.util.js", "31|webim.core.js", "31|webim.html.js", "31|webim.scrollbar.js", "31|webim.start.js", "31|webim.config.js", "31|module\/", "40|webim.module.base.js", "40|webim.module.main.js", "40|moduleMgr.js", "5|yui\/", "44|charts.cmb.js", "44|yahoo-dom-event\/", "46|yahoo-dom-event.js", "44|json\/", "48|json.js", "44|element\/", "50|element.js", "44|datasource\/", "52|datasource.js", "44|swf\/", "54|swf.js", "44|charts\/", "56|charts.js", "gov.cmb.js", "0|ms\/", "59|common\/", "60|adm\/", "61|adm.js", "61|adm_base\/", "63|template.js", "63|enum.js", "63|common.js", "63|core\/", "67|Banner.js", "67|DouFuKuai.js", "67|GanJiTuiGuang.js", "67|HuoJiTop.js", "67|JingPinTuiJian.js", "67|KABottom.js", "67|KABottomJS.js", "67|KABottomLink.js", "67|KAIconLink.js", "67|KAImgLink.js", "67|KALink.js", "67|KARightJS.js", "67|KARightLink.js", "67|KASkyscraper.js", "67|PinPaiGuangGao.js", "67|ZanZhuShangGuangGao.js", "67|KACouplet.js", "61|adm_widget\/", "85|KARightBrand_img.js", "85|KARightBrand_img_desc_job.js", "85|KARightBrand_img_desc_other.js", "85|KARightBrand_img_desc_toggle.js", "85|KATopBrand_img_ershouche.js", "gov2.cmb.js", "1|adm2\/", "92|adm2_core.js", "92|adm2_config.js", "92|adm2_template.js", "92|default_widget\/", "96|KA_Bottom.js", "96|KA_Bottom_Link.js", "96|KA_Couplet.js", "96|KA_Img_Link.js", "96|KA_Link.js", "96|KA_Right_Link.js", "96|KA_Skyscraper.js", "96|KAFlag.js", "96|KARightImg.js", "96|KATop.js", "0|common\/", "107|uniontgm2\/", "108|uniontgm.cmb.js", "108|uniontgm_tpl.js", "108|uniontgm.js", "css\/", "112|v5\/", "113|register\/", "114|register_index.cmb.css", "112|global\/", "116|global.css", "113|global\/", "118|global.css", "113|login\/", "120|login_new.css", "120|login_pub.css", "114|register_index.css", "114|register_iframe.cmb.css", "114|register_iframe.css", "114|register_third.cmb.css", "114|register_third.css", "6|ganji.js", "16|global\/", "129|global.js", "5|autocomplete\/", "131|autocomplete.js", "5|jquery\/", "133|jquery-1.8.2.js", "133|jquery.ui.js", "5|json\/", "136|json.js", "5|log_tracker\/", "138|log_tracker_simple.js", "5|uuid\/", "140|uuid.js", "140|unvalid_uuids.js", "5|iframe\/", "143|rpc3.js", "5|event\/", "145|event_emitter.js", "5|select\/", "147|jquery.select.js", "5|upload\/", "149|upload.js", "143|iframe.js", "5|panel\/", "152|panel.css", "5|dragdrop\/", "154|dragdrop.js", "152|panel.js", "5|swfobject\/", "157|swfobject-2.2.js", "157|swfloader.js", "143|talk_to_parent.js", "5|validator\/", "161|validator.css", "161|validator.js", "145|event.js", "161|validator-2.js", "11|map\/", "166|js\/", "167|create_map.js", "11|uploader\/", "169|js\/", "170|create_uploader.js", "11|editor\/", "172|editor.css", "172|editor.js", "17|passport.js", "107|uniontgm\/", "176|uniontgm_tpl_v5.js", "176|uniontgm_v7.js", "176|uniontgm_tpl_v6.js", "176|uniontgm_tpl_v5_B.js", "176|uniontgm_tpl_v6_B.js"],
    "reqid": "7524f687-18f2-4eff-b17f-f86cf9391242",
    "lottery": false
}; 
</script>

    <script src="/static/home/js/md5.js"></script>
    <link href="/static/home/css/register_new.css" rel="stylesheet" type="text/css">
    <script src="/static/home/js/ganji.js" type="text/javascript"></script>

    <!--dynamictag--><style>
        #qr-code-register{
            height: 232px;
        }
        .reg-cont .cont-box2{
            height: 322px;
            padding-top: 0;
        }
        #qr-code-register .qr-code{
            height: 190px;
            width: 190px;
            background: url('/static/home/images/qrcode.jpg'); 
        margin: 0 auto;
        }
        #qr-code-register .title1{
            text-align: center;
            margin: 0 auto;
            font-size: 16px;
            line-height: 56px;
            font-family: arial, 宋体;
            color: #010101;
        }
        #qr-code-register .title2{
            text-align: center;
            margin: 0 auto;
            font-size: 14px;
            color: #4b4b4b;
            line-height: 56px;
            font-family: arial, 宋体;
        }
    </style>

</head>

<body>

<!--logo s-->
<div style="padding-top:110px;"> </div>

<!--logo e-->
<!--wrapper s-->
<div id="wrapper">
    <div class="clearfix reg-cont V5">
        
        <div class="login-tab" data-widget="app/ms_v2/user/register.js#switchTab">
            <ul>
                <li data-role="switch" data-action="normal" class="active"><a href="javascript:void(0);">账号注册</a></li>
                
            </ul>
        </div>
        <div class="tab-con1 js-tab js-normal">
            <div class="cont-box2">
                <div class="N-txt3"><span>已有账号?
                </span><span><a class="btn-gray1" href="/home/mylogin/">立即登录</a></span></div>
                <div id="qr-code-register" style="">
                    <div class="title1">扫码用微信 只需1秒</div>
                    <div class="qr-code"></div>
                    <div class="title2">微信 让生活更便捷</div>
                </div>
               
            </div>

            <div class="cont-box1" id="registerform" >

                <form action="/home/myregister/"  method="post"  novalidate="novalidate">

                    {% csrf_token %}
                    <!--input隐藏传值   -->
                    <div >
                        <input value="{{q }}"   name="q"  type="text"  style="display:none" >
                    </div>
                  

                    <div class="field clearfix">
                        <label class="field-tit" >用户名：</label>
                        <input value="" name="username" type="text" class="input-text" placeholder="4-20个字符">
                        &nbsp;

                    </div>

                    <div class="field clearfix">
                        <label class="field-tit" >邮箱：</label>
                        <input value="" name="email" type="email" class="input-text" maxlength="16" autocomplete="off" placeholder="user@126.com">
                        <span class="msg-box" id="tip_email"></span>
                    </div>

                    <div class="field clearfix">
                        <label class="field-tit" >密码：</label>
                        <input value="" name="password" type="password" class="input-text" maxlength="16" placeholder="6-16位密码">
                        <span id="tip_password"></span>
                        <div class="pw-strength" id="level">
                            <div class="pw-bar"></div>
                            <div class="pw-bar-on"></div>

                        </div>
                    </div>


                    <div class="field clearfix">
                        <label class="field-tit" >确认密码：</label>
                        <input value="" name="password2" type="password" class="input-text" maxlength="16" autocomplete="off" placeholder="6-16位密码">
                        <span class="msg-box" id="tip_password2"></span>
                    </div>

                    <input   name="get_checkcode"  type="text"  style="display:none" value="{{g_checkcode}}" >

                    <div class="field checkcode clearfix" id="checkcode" data-widget="app/ms_v2/user/register.js#refleshRegImg">
                        <label class="field-tit" >验证码：</label>
                        <input  ng-model='check' value="" name="checkcode" type="text" maxlength="4" class="input-text" id="checkcode_input" placeholder="大写字符">

                        <a  href="/home/getcheckcode/?path={{path}}" >
                            <img     src="/home/checkcodeGIF/"  alt="验证码图片" />
                            看不清？换一个
                        </a>

                        <span id="tip_checkcode" style="width:136px"></span>
                    </div>
                    <div class="gj-agreement clearfix">
                        <div class="gj-agreement-cont">

                            <input value="14" checked="" name="affirm" type="checkbox" class="chk-vm" autocomplete="off">
                            <label >我接受服务条款<a target="_blank" href="#">&lt;&lt;服务条款&gt;&gt;</a></label>
                            <span id="tip_affirm"></span>
                        </div>
                    </div>


                    <div class="submit-box" data-widget="app/ms_v2/user/register.js#validBlur">
                        <input class="btn-org js-submit-btn" type="submit" value="立即注册">
                        <span class="msg-submit " style="display: none;">正在提交···</span>
                    </div>

                </form>
            </div>
        </div>

        

    </div>
</div>
<!--wrapper e-->
<!--footer s-->
<!-- footer s -->

<!-- footer e -->    <!--footer e-->
<script type="text/javascript">
    window.PAGE_CONFIG = {"GOOGLE_ANA_CODE":"UA-479320-1","logTracker":{"gjchNew":"\/user\/login\/register\/-\/op"},"reqid":"7524f687-18f2-4eff-b17f-f86cf9391242","__hash__":"U7ISotzdlj1REGY5Sjabm5FWEdqvAwBNi2+r5LwEr7mhRj\/M3kCnwfYIMlZ7cOXu"} || {};
    GJ.use([], function (Page) {
        Page.first();
        Page.last();
    });

    GJ.use(['jquery', 'validator2', 'app/ms_v2/user/register.js'], function(){
        GJ.validator.addFormCallback('registerform', function(){
            var username    = $('#registerform').find('input[name=username]').val();
            var email    = $('#registerform').find('input[name=email]').val();

            var password    = $('#registerform').find('input[name=password]').val();
            var password2   = $('#registerform').find('input[name=password2]').val();
            var affirm      = $('#registerform').find('input[name=affirm]').val();
            var checkcode   = $('#registerform').find('input[name=checkcode]').val() || null;
            var get_checkcode   = $('#registerform').find('input[name=get_checkcode]').val() || null;
            
            var next_url    = $('#registerform').find('input[name=next]').val() || null;
            GJ.passport.login({
                'url'       : '',
                'username'  : username,
                'password'  : password,
                'email'     : email,
                'expireDays': 0,
                'loginData' : {
                    'next'      : next_url,
                    'password2' : password2,
                    'affirm'    : affirm,
                    'checkcode' : checkcode,
                    'email'     : email
                },
                'onLoginStart'  : function() {
                    $('.js-submit-btn').hide();
                    $('.msg-submit').show();
                }

            });
            return false;
        });
        GJ.validator("username")
                .setTipSpanId("tip_username")
                .setFocusMsg("4-20个字符（中英文、数字、下划线）")
                .setRequired("请填写用户名")
                .setStrlenType("byte")
                .setLength(4, 20, "4-20个字符（中英文、数字、下划线）")
                .setCallback(function(str){ return /^[\w|\u4E00-\u9FA5]*$/.test(str); }, "只能由中英文、数字或下划线组成")
                .setCallback(function(str){ return ! /^\d{11}$/.test(str); }, "请勿使用手机号码")

        GJ.validator("password")
                .setTipSpanId("tip_password")
                .setFocusMsg("6-16位，不包含空格")
                .setRequired("请填写密码")
                .setStrlenType("symbol")
                .setLength(6, 16, "6-16个字符")
                .setCallback(function is_complex_password(str) { var n = str.length; if ( n < 6 ) { return false; } var cc = 0, c_step = 0; for (var i=0; i<n; ++i) { if ( str.charCodeAt(i) == str.charCodeAt(0) ) { ++ cc; } if ( i > 0 && str.charCodeAt(i) == str.charCodeAt(i-1)+1) { ++ c_step; } } if ( cc == n || c_step == n-1) { return false; } return true; }, "请勿使用连续重复字符")
                .setCallback(function is_num_str(str) { var reg=/^[\d]{6,8}$/; return !reg.test(str);}, "请勿使用9位以下纯数字")
                .setCallback(function is_num_str(str) { var reg=/\s/i; return !reg.test(str);}, "不能包含空格")
                .setCompareField("!=", "username", "密码不能和用户名相同");

        GJ.validator("password2")
                .setTipSpanId("tip_password2")
                .setFocusMsg("重复输入一次密码")
                .setRequired("重复输入一次密码")
                .setCompareField("==", "password", "两次输入密码不同");

        GJ.validator("checkcode")
                .setTipSpanId("tip_checkcode")
                .setRequired("请填写验证码")
                .setCompareField("==", "get_checkcode", "验证码不正确");
        //"^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$"　　　　//email 正则表达式
        GJ.validator("email")
                .setTipSpanId("tip_email")
                .setFocusMsg("email格式：admin@test.com")
                .setRequired("请填写邮箱")
                .setCallback(function(str){ return  /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str); }, "email格式错误。正确格式：admin@test.com")



        GJ.validator("affirm")
                .setTipSpanId("tip_affirm")
                .setRequired("必须先接受服务条款");

    });


</script>


</body></html>
{% endblock %}
